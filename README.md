# 이탈 예측 모델 개발
### 요약
- 유저 이력 데이터를 통해 유저들의 서비스 이탈 여부를 예측해 본다. 예측은 모델의 종류(Logistic, LGBM), 스케일링 여부, 범주형 데이터의 분리(학년, 성별, 신규/재구매 여부), 최적화 여부를 조합하여 시행하고 f1 score가 가장 높은 조합을 찾는다.<P>
데이터의 이탈자는 얼핏 적어 보이지만 월간 이탈자이기 때문에 시간이 지날수록 눈덩이처럼 불어날 수 있다. 월간 1%의 유저가 이탈하면 1년 간 약 11.4%가 이탈하게 되고, 월 이탈자가 2%로 늘어나면 1년에 약 21.6%의 유저가 이탈한다. 또한 입소문이 중요한 사업인 만큼 서비스에 좋지 않은 인상을 가지고 떠나는 것을 최소화하기 위해 recall을 최대한 줄여야 할 필요가 있다.<p>
하지만 이탈 위험 학생 1인당 관리 비용이 어느정도 들어가는지 알 수 없고 관리를 시행했을 때 줄어드는 이탈률에 대한 정보가 없기 때문에 precision과 recall을 모두 고려할 수 있도록 f1 score를 중심으로 최적의 모델을 찾았다.
- 예측 결과는 신규/재구매 여부를 분리한 데이터를 스케일링하지 않고 LGBM 모델로 학습한 뒤 BayesianOptimization으로 최적화하여 예측하였을 때 가장 높게 나왔다. accuracy와 precision, recall, f1은 각각
    - 신규<p>
    accuracy :  0.997, precision :  0.953, recall :  0.931, f1 :  0.942
    - 재구매<p>
    accuracy :  0.994, precision :  0.946, recall :  0.897, f1 :  0.92
    <p>
    로 나타났다.

- 전체 workflow를 시각화하였다. 그림에서 보는바와 같이 f1 score는 모델링과 최적화에 따라 0.922 -> 0.929 -> 0.931 로 상승했다.
  <img src="https://github.com/jjun2648/Churn_predict/blob/main/data/workflow.png">
  
